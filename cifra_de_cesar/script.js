let abc=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var key_input=document.getElementById("key"),text_input=document.getElementById("text"),btn_crypt=document.getElementById("crypt"),btn_decrypt=document.getElementById("decrypt");function handle_key(e){isNaN(parseInt(e.key))&&e.preventDefault()}function handle_key_focus(e){let t=e.target.value;0!==parseInt(t)&&""!==t||(e.target.value=1),t>=26&&(e.target.value=25)}function handle_crypt(e){return""===key_input.value?(alert("Preencha a Chave da Cifra."),!1):""===text_input.value?(alert("Digite o Texto a Ser Cifrado."),!1):(text_input.value=crypt_translate(text_input.value.toLowerCase(),parseInt(key_input.value),!0),!0)}function handle_decrypt(e){return""===key_input.value?(alert("Preencha a Chave da Cifra."),!1):""===text_input.value?(alert("Digite o Texto a Ser Traduzido."),!1):(text_input.value=crypt_translate(text_input.value.toLowerCase(),parseInt(key_input.value),!1),!0)}function crypt_translate(e,t,n=!0){const a=e.split("");r=[];let u=abc.slice();for(let e=0;e<t;e++)u.push(u.shift());return a.forEach(function(e){if(-1!==abc.indexOf(e))if(n){let t=abc.indexOf(e);r.push(u[t])}else{let t=u.indexOf(e);r.push(abc[t])}else r.push(e)}),r.join("")}key_input.addEventListener("keypress",handle_key),key_input.addEventListener("focusout",handle_key_focus),btn_crypt.addEventListener("click",handle_crypt),btn_decrypt.addEventListener("click",handle_decrypt);
